!function e(t,r,n){function a(s,i){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!i&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return a(r?r:e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,r){"use strict";angular.module("chatApp",["btford.socket-io","luegg.directives"]),e("./controllers/SocketController")},{"./controllers/SocketController":2}],2:[function(e,t,r){"use strict";angular.module("chatApp").controller("socketController",["$scope","socketFactory",function(e,t){function r(t){for(var r=!1,n=0;n<e.participants.length;n++)if(e.participants[n].name==t.name){r=!0;break}r||e.participants.push(t)}var n=new t;e.message="",e.messages=[],e.user,e.participants=[],e.wSocketId="",$("#userModal").modal("show"),e.enterChat=function(){for(var t=!1,r=0;r<e.participants.length;r++)if(e.participants[r].name==e.user){t=!0;break}t?alert("Name taken!"):(n.emit("new user",e.user),$("#userModal").modal("hide"))},e.sendMessage=function(){var t={message:e.message,sender:e.user,wSocketId:e.wSocketId,date:new Date};n.emit("chat message",t),e.message="",e.wSocketId=""},e.sendPrivateMessage=function(t,r){var n=angular.element(t.currentTarget);e.message="/w "+n[0].childNodes[3].innerHTML+" ",e.wSocketId=r,$("[name='message']").focus()},n.on("new user",function(e){r(e)}),n.on("chat message",function(t){e.messages.push(t)}),n.on("load participants",function(e){for(var t=0;t<e.length;t++)r(e[t])}),n.on("exit chat",function(t){for(i=e.participants.length-1;i>=0;i-=1)e.participants[i].socketId===t&&e.participants.splice(i,1)})}])},{}]},{},[1]);